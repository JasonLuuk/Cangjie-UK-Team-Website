<h1 id="building-your-first-cangjie-application-on-openharmony">Building Your First Cangjie Application on OpenHarmony</h1>
<h2 id="prerequisites">Prerequisites</h2>
<ol>
<li>
<p>Before building your first Cangjie application, both the OpenHarmony SDK environment and the Cangjie language support must be prepared in advance.<br>
At present, DevEco Studio only provides OpenHarmony SDK packages up to API 20 through the SDK Manager, while this guide requires OpenHarmony API level 22. In addition, Cangjie language support must be enabled manually by installing the corresponding plugin.</p>
<h3 id="required-tools">Required Tools</h3>
<ul>
<li><strong>DevEco Studio</strong></li>
<li>Install the <strong>latest version of DevEco Studio</strong>.</li>
<li>Download: <a href="https://developer.huawei.com/consumer/cn/download/">https://developer.huawei.com/consumer/cn/download/</a></li>
</ul>
</li>
<li>
<p>Start by installing the latest version of DevEco Studio. After installation, launch the IDE and sign in to your Huawei account from the upper-right corner. Cangjie support is currently available only to Huawei accounts registered with a mainland China (+86) phone number. You must apply for the Cangjie beta developer program and enable the <strong>Cangjie (experiment)</strong> option for your account before the plugin can be installed.</p>
</li>
<li>
<p>After signing in, open <strong>Settings / Preferences</strong> in DevEco Studio and navigate to <strong>Languages &#x26; Frameworks</strong>. In the list of available options, locate <strong>Cangjie (experiment)</strong> and enable it. Once selected, DevEco Studio will automatically download and install the Cangjie plugin. After the download is complete, restart the IDE to finish the installation.</p>
<p><img src="../figures/Cangjie_experiment.png" alt="*Cangjie (experiment)"></p>
</li>
<li>
<p>You can verify that the Cangjie plugin has been installed successfully by creating a new project. If Cangjie-related templates are available for selection in the project creation wizard, the installation has completed successfully.</p>
</li>
<li>
<p>Next, configure the OpenHarmony SDK. In DevEco Studio, go to <strong>Settings / Preferences</strong>, then navigate to <strong>SDK > OpenHarmony SDK</strong>. Select or create a directory and bind it as the OpenHarmony SDK path. This directory will be used to store OpenHarmony SDK files for different API versions.</p>
</li>
<li>
<p>Locate the DevEco Studio installation directory on your system and find the following path:<br>
<code>&#x3C;DevEco Studio Install Path>/sdk/default/openharmony</code></p>
</li>
<li>
<p>This directory contains the built-in OpenHarmony SDK files that can be reused for higher API levels. Copy all contents of this directory. In the directory that you bound as the OpenHarmony SDK path, create a new folder named <code>22</code>, then paste all copied files into this folder. After the files are copied, ensure that the OpenHarmony SDK path contains a <code>22</code> directory with subdirectories <code>ets</code>,<code>native</code>,<code>previewer</code>, <code>js</code> and <code>toolchains</code>.</p>
</li>
<li>
<p>After the OpenHarmony SDK files are copied, the Cangjie SDK must also be placed into the same API-level directory. Once the Cangjie plugin is successfully installed, the Cangjie SDK is automatically downloaded. On Windows, the SDK is installed by default under the user directory at <code>~/.cangjie-sdk</code>. Navigate into this directory, enter the <code>6.0</code> folder, and locate the <code>cangjie</code> directory.</p>
</li>
<li>
<p>Copy the entire <code>cangjie</code> directory and paste it into the OpenHarmony SDK <code>22</code> directory that you created earlier. The <code>cangjie</code> directory should be placed at the same level as directories such as <code>js</code>, <code>native</code>, and other existing SDK components. After this step, the OpenHarmony SDK path should contain a complete API 22 environment with both OpenHarmony and Cangjie SDK components available.
<img src="../figures/OpenHarmony_SDK.png" alt="OpenHarmony SDK"></p>
</li>
<li>
<p>Restart DevEco Studio to ensure that all SDK configurations take effect. Once completed, OpenHarmony SDK API level 22 with Cangjie support can be used during project synchronization and build.</p>
</li>
</ol>
<h2 id="creating-a-cangjie-project">Creating a Cangjie Project</h2>
<ol>
<li>
<p>If opening <strong>DevEco Studio</strong> for the first time, click <strong>Create Project</strong> to start. If a project is already open, select <strong>File</strong> > <strong>New</strong> > <strong>Create Project</strong> from the menu bar.</p>
</li>
<li>
<p>Choose <strong>Application</strong> development (this guide focuses on application development; Cangjie currently doesn't support meta-service development). Select the <strong>[Cangjie] Empty Ability</strong> template and click <strong>Next</strong> to proceed.</p>
<p><img src="../figures/Cangjie_Template.png" alt="Cangjie Template"></p>
</li>
<li>
<p>On the project configuration screen, you can modify basic settings like project name and storage path or keep the defaults.</p>
</li>
<li>
<p>Click <strong>Finish</strong> to complete project creation. The IDE will automatically generate foundational sample code and related resources.</p>
</li>
<li>
<p>After the project is created, perform the following operations to modify related fields in the project-level <strong>build-profile.json5</strong> file (at the same directory level as <strong>entry</strong>):</p>
<ol>
<li>
<p>Add the <strong>compileSdkVersion</strong> field.</p>
</li>
<li>
<p>Set the value of <strong>compatibleSdkVersion</strong> and <strong>compileSdkVersion</strong> to an integer, such as <strong>22</strong>, <strong>23</strong>.</p>
</li>
<li>
<p>Change the <strong>runtimeOS</strong> field from <strong>HarmonyOS</strong> to <strong>OpenHarmony</strong>.</p>
</li>
</ol>
<pre class="shiki light-plus" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #A31515">"products"</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">  {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">"name"</span><span style="color: #000000">: </span><span style="color: #A31515">"default"</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">"signingConfig"</span><span style="color: #000000">: </span><span style="color: #A31515">"default"</span><span style="color: #000000">, </span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">"targetSdkVersion"</span><span style="color: #000000">: </span><span style="color: #098658">22</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">"compileSdkVersion"</span><span style="color: #000000">: </span><span style="color: #098658">22</span><span style="color: #000000">,    </span><span style="color: #008000">// Version for compiling the OpenHarmony application or atomic service.</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">"compatibleSdkVersion"</span><span style="color: #000000">: </span><span style="color: #098658">22</span><span style="color: #000000">, </span><span style="color: #008000">// Minimum version compatible with the OpenHarmony application or atomic service.</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">"runtimeOS"</span><span style="color: #000000">: </span><span style="color: #A31515">"OpenHarmony"</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">],</span></span></code></pre>
</li>
<li>
<p>Click <strong>Sync Now</strong> to start synchronization.</p>
<p>In the <strong>Sync Check</strong> dialog box, click <strong>Yes</strong> to switch the phone type in the <strong>module.json5/config.json</strong> file to the default type supported by the OpenHarmony, and delete other device types that are not applicable to the OpenHarmony. The OpenHarmony project is created if the synchronization is successful and no other error is reported.</p>
</li>
</ol>
<h2 id="cangjie-project-directory-structure">Cangjie Project Directory Structure</h2>
<p>The Cangjie project directory structure is as follows:</p>
<pre class="shiki light-plus" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #000000">Project_name</span></span>
<span class="line"><span style="color: #000000">├── .hvigor</span></span>
<span class="line"><span style="color: #000000">├── .idea</span></span>
<span class="line"><span style="color: #000000">├── AppScope</span></span>
<span class="line"><span style="color: #000000">├── entry</span></span>
<span class="line"><span style="color: #000000">│    ├── libs</span></span>
<span class="line"><span style="color: #000000">│    ├── src</span></span>
<span class="line"><span style="color: #000000">│    │    ├── main</span></span>
<span class="line"><span style="color: #000000">│    │    │    ├── cangjie</span></span>
<span class="line"><span style="color: #000000">│    │    │    │    ├── ability_stage.cj</span></span>
<span class="line"><span style="color: #000000">│    │    │    │    ├── index.cj</span></span>
<span class="line"><span style="color: #000000">│    │    │    │    └── main_ability.cj</span></span>
<span class="line"><span style="color: #000000">│    │    │    ├── resources</span></span>
<span class="line"><span style="color: #000000">│    │    │    └── module.json5</span></span>
<span class="line"><span style="color: #000000">│    │    └── ohosTest</span></span>
<span class="line"><span style="color: #000000">│    ├── build-profile.json5</span></span>
<span class="line"><span style="color: #000000">│    ├── cjpm.toml</span></span>
<span class="line"><span style="color: #000000">│    ├── hvigorfile.ts</span></span>
<span class="line"><span style="color: #000000">│    └── oh-package.json5</span></span>
<span class="line"><span style="color: #000000">├── hvigor</span></span>
<span class="line"><span style="color: #000000">│    └── hvigor-config.json5</span></span>
<span class="line"><span style="color: #000000">├── oh_modules</span></span>
<span class="line"><span style="color: #000000">├── build-profile.json5</span></span>
<span class="line"><span style="color: #000000">├── code-linter.json5</span></span>
<span class="line"><span style="color: #000000">├── hvigorfile.ts</span></span>
<span class="line"><span style="color: #000000">├── local.properties</span></span>
<span class="line"><span style="color: #000000">├── oh-package.json5</span></span>
<span class="line"><span style="color: #000000">└── oh-package-lock.json5</span></span></code></pre>
<p>Key file descriptions:</p>
<ul>
<li><strong>AppScope > app.json5</strong>: Global application configuration.</li>
<li><strong>entry</strong>: Cangjie project module that compiles into a HAP package.
<ul>
<li><strong>src > main > cangjie</strong>: Stores Cangjie source code.</li>
<li><strong>src > main > resources</strong>: Contains resource files (graphics, multimedia, strings, layouts, etc.). See <a href="../ide-resource-categories-and-access.md#%E8%B5%84%E6%BA%90%E5%88%86%E7%B1%BB%E4%B8%8E%E8%AE%BF%E9%97%AE">Resource Classification and Access</a>.</li>
<li><strong>src > main > module.json5</strong>: Stage module configuration including HAP settings, device-specific configurations, and global app settings.</li>
<li><strong>build-profile.json5</strong>: Module-level build configurations (buildOption, targets, etc.).</li>
<li><strong>hvigorfile.ts</strong>: Module-level build script.</li>
<li><strong>cjpm.toml</strong>: Cangjie package management configuration.</li>
<li><strong>oh-package.json5</strong>: Package metadata (name, version, entry files, dependencies).</li>
<li><strong>src > ohosTest</strong>: Contains Cangjie test code for Instrument Test.</li>
</ul>
</li>
<li><strong>hvigor</strong>: Stores project-specific hvigor configurations.
<ul>
<li><strong>hvigor-config.json5</strong>: Global hvigor configuration and parameters.</li>
</ul>
</li>
<li><strong>oh_modules</strong>: Stores third-party library dependencies.</li>
<li><strong>build-profile.json5</strong>: Application-level configurations (signing, product settings).</li>
<li><strong>hvigorfile.ts</strong>: Application-level build script.</li>
<li><strong>oh-package.json5</strong>: Global configurations (dependency overrides, parameter files).</li>
</ul>
<h2 id="building-the-first-page">Building the First Page</h2>
<ol>
<li>
<p>Using text components.</p>
<p>After project synchronization, navigate to <strong>entry > src > main > cangjie</strong> in the <strong>Project</strong> window and open <strong>index.cj</strong> to write your page in Cangjie. This example uses Row and Column components for layout.</p>
<pre class="shiki light-plus" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #000000">entry</span></span>
<span class="line"><span style="color: #000000">└── src</span></span>
<span class="line"><span style="color: #000000">     └── main</span></span>
<span class="line"><span style="color: #000000">          ├── cangjie</span></span>
<span class="line"><span style="color: #000000">          │    ├── ability_stage.cj</span></span>
<span class="line"><span style="color: #000000">          │    ├── index.cj</span></span>
<span class="line"><span style="color: #000000">          │    └── main_ability.cj</span></span>
<span class="line"><span style="color: #000000">          ├── resources</span></span>
<span class="line"><span style="color: #000000">          └── module.json5</span></span></code></pre>
<p>Initial <strong>index.cj</strong> code:</p>
<!-- compile -->
<pre class="shiki light-plus" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #008000">// index.cj</span></span>
<span class="line"><span style="color: #AF00DB">package </span><span style="color: #0000FF">ohos_app_cangjie_entry</span></span>
<span class="line"></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">kit.ArkUI.*</span></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">ohos.arkui.state_macro_manage.*</span></span>
<span class="line"></span>
<span class="line"><span style="color: #AF00DB">@</span><span style="color: #795E26">Entry</span></span>
<span class="line"><span style="color: #AF00DB">@</span><span style="color: #795E26">Component</span></span>
<span class="line"><span style="color: #AF00DB">class</span><span style="color: #267F99"> EntryView</span><span style="color: #000000"> {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">@</span><span style="color: #795E26">State</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">var</span><span style="color: #001080"> message</span><span style="color: #000000">: </span><span style="color: #267F99">String</span><span style="color: #000000"> = </span><span style="color: #A31515">"Hello World"</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">func</span><span style="color: #795E26"> build</span><span style="color: #000000">() {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">Row</span><span style="color: #000000"> {</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #001080">Column</span><span style="color: #000000"> {</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #795E26">Text</span><span style="color: #000000">(</span><span style="color: #AF00DB">this</span><span style="color: #000000">.</span><span style="color: #001080">message</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                    .</span><span style="color: #795E26">fontSize</span><span style="color: #000000">(</span><span style="color: #098658">50</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                    .</span><span style="color: #795E26">fontWeight</span><span style="color: #000000">(</span><span style="color: #001080">FontWeight</span><span style="color: #000000">.</span><span style="color: #001080">Bold</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                    .</span><span style="color: #795E26">onClick</span><span style="color: #000000"> ({</span></span>
<span class="line"><span style="color: #000000">                        </span><span style="color: #001080">evt</span><span style="color: #000000"> => </span><span style="color: #AF00DB">this</span><span style="color: #000000">.</span><span style="color: #001080">message</span><span style="color: #000000"> = </span><span style="color: #A31515">"Hello Cangjie"</span></span>
<span class="line"><span style="color: #000000">                    })</span></span>
<span class="line"><span style="color: #000000">            }.</span><span style="color: #795E26">width</span><span style="color: #000000">(</span><span style="color: #098658">100</span><span style="color: #000000">.</span><span style="color: #001080">percent</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">        }.</span><span style="color: #795E26">height</span><span style="color: #000000">(</span><span style="color: #098658">100</span><span style="color: #000000">.</span><span style="color: #001080">percent</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    }</span></span>
<span class="line"><span style="color: #000000">}</span></span></code></pre>
</li>
<li>
<p>Adding text and modifying buttons.</p>
<p>Add a Button component to enable page navigation. Updated <strong>index.cj</strong>:</p>
<!-- compile -->
<pre class="shiki light-plus" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #008000">// index.cj</span></span>
<span class="line"><span style="color: #AF00DB">package </span><span style="color: #0000FF">ohos_app_cangjie_entry</span></span>
<span class="line"></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">kit.ArkUI.*</span></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">ohos.arkui.state_macro_manage.*</span></span>
<span class="line"></span>
<span class="line"><span style="color: #AF00DB">@</span><span style="color: #795E26">Entry</span></span>
<span class="line"><span style="color: #AF00DB">@</span><span style="color: #795E26">Component</span></span>
<span class="line"><span style="color: #AF00DB">class</span><span style="color: #267F99"> EntryView</span><span style="color: #000000"> {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">@</span><span style="color: #795E26">State</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">var</span><span style="color: #001080"> message</span><span style="color: #000000">: </span><span style="color: #267F99">String</span><span style="color: #000000"> = </span><span style="color: #A31515">"Hello Cangjie"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">func</span><span style="color: #795E26"> build</span><span style="color: #000000">() {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">Row</span><span style="color: #000000"> {</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #795E26">Column</span><span style="color: #000000">() {</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #795E26">Text</span><span style="color: #000000">(</span><span style="color: #AF00DB">this</span><span style="color: #000000">.</span><span style="color: #001080">message</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                 .</span><span style="color: #795E26">fontSize</span><span style="color: #000000">(</span><span style="color: #098658">50</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                 .</span><span style="color: #795E26">fontWeight</span><span style="color: #000000">(</span><span style="color: #001080">FontWeight</span><span style="color: #000000">.</span><span style="color: #001080">Bold</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                 .</span><span style="color: #001080">onClick</span><span style="color: #000000"> {</span></span>
<span class="line"><span style="color: #000000">                     </span><span style="color: #001080">evt</span><span style="color: #000000"> => </span><span style="color: #AF00DB">this</span><span style="color: #000000">.</span><span style="color: #001080">message</span><span style="color: #000000"> = </span><span style="color: #A31515">"Hello Cangjie"</span></span>
<span class="line"><span style="color: #000000">                 }</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #008000">// Add button for user interaction</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #795E26">Button</span><span style="color: #000000">(</span><span style="color: #A31515">"Next"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                .</span><span style="color: #795E26">onClick</span><span style="color: #000000"> ({</span></span>
<span class="line"><span style="color: #000000">                    </span><span style="color: #001080">evt</span><span style="color: #000000"> => </span><span style="color: #001080">Hilog</span><span style="color: #000000">.</span><span style="color: #795E26">info</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">"info"</span><span style="color: #000000">, </span><span style="color: #A31515">"Hello Cangjie"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                })</span></span>
<span class="line"><span style="color: #000000">                .</span><span style="color: #795E26">fontSize</span><span style="color: #000000">(</span><span style="color: #098658">30</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                .</span><span style="color: #795E26">width</span><span style="color: #000000">(</span><span style="color: #098658">180</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                .</span><span style="color: #795E26">height</span><span style="color: #000000">(</span><span style="color: #098658">50</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                .</span><span style="color: #795E26">margin</span><span style="color: #000000">(</span><span style="color: #001080">top</span><span style="color: #000000">: </span><span style="color: #098658">20</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">            }.</span><span style="color: #795E26">width</span><span style="color: #000000">(</span><span style="color: #098658">100</span><span style="color: #000000">.</span><span style="color: #001080">percent</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">        }.</span><span style="color: #795E26">height</span><span style="color: #000000">(</span><span style="color: #098658">100</span><span style="color: #000000">.</span><span style="color: #001080">percent</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    }</span></span>
<span class="line"><span style="color: #000000">}</span></span></code></pre>
</li>
</ol>
<h2 id="building-the-second-page">Building the Second Page</h2>
<ol>
<li>
<p>Creating the second page.</p>
<p>Right-click the <strong>cangjie</strong> folder (<strong>entry > src > main > cangjie</strong>), select <strong>New > Cangjie File</strong>, name it <strong>second</strong>, and click <strong>OK</strong>.</p>
<pre class="shiki light-plus" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #000000">entry</span></span>
<span class="line"><span style="color: #000000">└── src</span></span>
<span class="line"><span style="color: #000000">     └── main</span></span>
<span class="line"><span style="color: #000000">          ├── cangjie</span></span>
<span class="line"><span style="color: #000000">          │    ├── ability_stage.cj</span></span>
<span class="line"><span style="color: #000000">          │    ├── index.cj</span></span>
<span class="line"><span style="color: #000000">          │    ├── main_ability.cj</span></span>
<span class="line"><span style="color: #000000">          │    └── second.cj</span></span>
<span class="line"><span style="color: #000000">          ├── resources</span></span>
<span class="line"><span style="color: #000000">          └── module.json5</span></span></code></pre>
</li>
<li>
<p>Adding text and buttons.</p>
<p>Similar to the first page, add components in <strong>second.cj</strong>:</p>
<!-- compile -->
<pre class="shiki light-plus" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #008000">// second.cj</span></span>
<span class="line"><span style="color: #AF00DB">package </span><span style="color: #0000FF">ohos_app_cangjie_entry</span></span>
<span class="line"></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">ohos.arkui.state_macro_manage.Entry</span></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">ohos.arkui.state_macro_manage.Component</span></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">ohos.arkui.state_macro_manage.State</span></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">ohos.arkui.state_macro_manage.r</span></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">ohos.arkui.component.Button</span></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">ohos.hilog.Hilog</span></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">kit.ArkUI.*</span></span>
<span class="line"></span>
<span class="line"><span style="color: #AF00DB">@</span><span style="color: #795E26">Entry</span></span>
<span class="line"><span style="color: #AF00DB">@</span><span style="color: #795E26">Component</span></span>
<span class="line"><span style="color: #AF00DB">class</span><span style="color: #267F99"> Second</span><span style="color: #000000"> {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">@</span><span style="color: #795E26">State</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">var</span><span style="color: #001080"> message</span><span style="color: #000000">: </span><span style="color: #267F99">String</span><span style="color: #000000"> = </span><span style="color: #A31515">"Hi there"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">func</span><span style="color: #795E26"> build</span><span style="color: #000000">() {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">Row</span><span style="color: #000000"> {</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #795E26">Column</span><span style="color: #000000">() {</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #795E26">Text</span><span style="color: #000000">(</span><span style="color: #AF00DB">this</span><span style="color: #000000">.</span><span style="color: #001080">message</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                    .</span><span style="color: #795E26">fontSize</span><span style="color: #000000">(</span><span style="color: #098658">50</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                    .</span><span style="color: #795E26">fontWeight</span><span style="color: #000000">(</span><span style="color: #001080">FontWeight</span><span style="color: #000000">.</span><span style="color: #001080">Bold</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #795E26">Button</span><span style="color: #000000">(</span><span style="color: #A31515">"Back"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                    .</span><span style="color: #795E26">onClick</span><span style="color: #000000"> ({</span></span>
<span class="line"><span style="color: #000000">                        </span><span style="color: #001080">evt</span><span style="color: #000000"> => </span><span style="color: #001080">Hilog</span><span style="color: #000000">.</span><span style="color: #795E26">info</span><span style="color: #000000">(</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #A31515">"info"</span><span style="color: #000000">, </span><span style="color: #A31515">"Hi there"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                    })</span></span>
<span class="line"><span style="color: #000000">                    .</span><span style="color: #795E26">fontSize</span><span style="color: #000000">(</span><span style="color: #098658">30</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                    .</span><span style="color: #795E26">width</span><span style="color: #000000">(</span><span style="color: #098658">180</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                    .</span><span style="color: #795E26">height</span><span style="color: #000000">(</span><span style="color: #098658">50</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                    .</span><span style="color: #795E26">margin</span><span style="color: #000000">(</span><span style="color: #001080">top</span><span style="color: #000000">: </span><span style="color: #098658">20</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">            }.</span><span style="color: #795E26">width</span><span style="color: #000000">(</span><span style="color: #098658">100</span><span style="color: #000000">.</span><span style="color: #001080">percent</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">        }.</span><span style="color: #795E26">height</span><span style="color: #000000">(</span><span style="color: #098658">100</span><span style="color: #000000">.</span><span style="color: #001080">percent</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    }</span></span>
<span class="line"><span style="color: #000000">}</span></span></code></pre>
</li>
</ol>
<h2 id="implementing-page-navigation">Implementing Page Navigation</h2>
<p>Page navigation uses the router module to find target pages via URLs.</p>
<ol>
<li>
<p>Navigating from first to second page.</p>
<p>Update <strong>index.cj</strong> with router functionality:</p>
<!-- compile -->
<pre class="shiki light-plus" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #008000">// index.cj</span></span>
<span class="line"><span style="color: #AF00DB">package </span><span style="color: #0000FF">ohos_app_cangjie_entry</span></span>
<span class="line"></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">kit.ArkUI.*</span></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">ohos.arkui.state_macro_manage.*</span></span>
<span class="line"></span>
<span class="line"><span style="color: #AF00DB">@</span><span style="color: #795E26">Entry</span></span>
<span class="line"><span style="color: #AF00DB">@</span><span style="color: #795E26">Component</span></span>
<span class="line"><span style="color: #AF00DB">class</span><span style="color: #267F99"> EntryView</span><span style="color: #000000"> {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">@</span><span style="color: #795E26">State</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">var</span><span style="color: #001080"> message</span><span style="color: #000000">: </span><span style="color: #267F99">String</span><span style="color: #000000"> = </span><span style="color: #A31515">"Hello Cangjie"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">func</span><span style="color: #795E26"> build</span><span style="color: #000000">() {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">Row</span><span style="color: #000000"> {</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #795E26">Column</span><span style="color: #000000">() {</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #795E26">Text</span><span style="color: #000000">(</span><span style="color: #AF00DB">this</span><span style="color: #000000">.</span><span style="color: #001080">message</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                 .</span><span style="color: #795E26">fontSize</span><span style="color: #000000">(</span><span style="color: #098658">50</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                 .</span><span style="color: #795E26">fontWeight</span><span style="color: #000000">(</span><span style="color: #001080">FontWeight</span><span style="color: #000000">.</span><span style="color: #001080">Bold</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                 .</span><span style="color: #001080">onClick</span><span style="color: #000000"> {</span></span>
<span class="line"><span style="color: #000000">                     </span><span style="color: #001080">evt</span><span style="color: #000000"> => </span><span style="color: #AF00DB">this</span><span style="color: #000000">.</span><span style="color: #001080">message</span><span style="color: #000000"> = </span><span style="color: #A31515">"Hello Cangjie"</span></span>
<span class="line"><span style="color: #000000">                 }</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #795E26">Button</span><span style="color: #000000">(</span><span style="color: #A31515">"Next"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                .</span><span style="color: #795E26">onClick</span><span style="color: #000000"> ({</span></span>
<span class="line"><span style="color: #000000">                    </span><span style="color: #001080">evt</span><span style="color: #000000"> => </span><span style="color: #795E26">getUIContext</span><span style="color: #000000">().</span><span style="color: #795E26">getRouter</span><span style="color: #000000">().</span><span style="color: #795E26">pushUrl</span><span style="color: #000000">(</span><span style="color: #001080">url</span><span style="color: #000000">: </span><span style="color: #A31515">"Second"</span><span style="color: #000000">) </span><span style="color: #008000">// Navigate to second page</span></span>
<span class="line"><span style="color: #000000">                })</span></span>
<span class="line"><span style="color: #000000">                .</span><span style="color: #795E26">fontSize</span><span style="color: #000000">(</span><span style="color: #098658">30</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                .</span><span style="color: #795E26">width</span><span style="color: #000000">(</span><span style="color: #098658">180</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                .</span><span style="color: #795E26">height</span><span style="color: #000000">(</span><span style="color: #098658">50</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                .</span><span style="color: #795E26">margin</span><span style="color: #000000">(</span><span style="color: #001080">top</span><span style="color: #000000">: </span><span style="color: #098658">20</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">            }.</span><span style="color: #795E26">width</span><span style="color: #000000">(</span><span style="color: #098658">100</span><span style="color: #000000">.</span><span style="color: #001080">percent</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">        }.</span><span style="color: #795E26">height</span><span style="color: #000000">(</span><span style="color: #098658">100</span><span style="color: #000000">.</span><span style="color: #001080">percent</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    }</span></span>
<span class="line"><span style="color: #000000">}</span></span></code></pre>
</li>
<li>
<p>Returning from second to first page.</p>
<p>Update <strong>second.cj</strong> with back navigation:</p>
<!-- compile -->
<pre class="shiki light-plus" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #008000">// second.cj</span></span>
<span class="line"><span style="color: #AF00DB">package </span><span style="color: #0000FF">ohos_app_cangjie_entry</span></span>
<span class="line"></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">ohos.arkui.state_macro_manage.Entry</span></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">ohos.arkui.state_macro_manage.Component</span></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">ohos.arkui.state_macro_manage.State</span></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">ohos.arkui.state_macro_manage.r</span></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">ohos.arkui.ui_context.* </span><span style="color: #008000">// Import router module</span></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">ohos.hilog.Hilog</span></span>
<span class="line"><span style="color: #AF00DB">import </span><span style="color: #0000FF">kit.ArkUI.*</span></span>
<span class="line"></span>
<span class="line"><span style="color: #AF00DB">@</span><span style="color: #795E26">Entry</span></span>
<span class="line"><span style="color: #AF00DB">@</span><span style="color: #795E26">Component</span></span>
<span class="line"><span style="color: #AF00DB">class</span><span style="color: #267F99"> Second</span><span style="color: #000000"> {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">@</span><span style="color: #795E26">State</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">var</span><span style="color: #001080"> message</span><span style="color: #000000">: </span><span style="color: #267F99">String</span><span style="color: #000000"> = </span><span style="color: #A31515">"Hi there"</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #AF00DB">func</span><span style="color: #795E26"> build</span><span style="color: #000000">() {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #001080">Row</span><span style="color: #000000"> {</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #795E26">Column</span><span style="color: #000000">() {</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #795E26">Text</span><span style="color: #000000">(</span><span style="color: #AF00DB">this</span><span style="color: #000000">.</span><span style="color: #001080">message</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                    .</span><span style="color: #795E26">fontSize</span><span style="color: #000000">(</span><span style="color: #098658">50</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                    .</span><span style="color: #795E26">fontWeight</span><span style="color: #000000">(</span><span style="color: #001080">FontWeight</span><span style="color: #000000">.</span><span style="color: #001080">Bold</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #795E26">Button</span><span style="color: #000000">(</span><span style="color: #A31515">"Back"</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                    .</span><span style="color: #795E26">onClick</span><span style="color: #000000"> ({</span></span>
<span class="line"><span style="color: #000000">                        </span><span style="color: #001080">evt</span><span style="color: #000000"> => </span><span style="color: #795E26">getUIContext</span><span style="color: #000000">().</span><span style="color: #795E26">getRouter</span><span style="color: #000000">().</span><span style="color: #795E26">back</span><span style="color: #000000">(</span><span style="color: #001080">url</span><span style="color: #000000">: </span><span style="color: #A31515">"EntryView"</span><span style="color: #000000">) </span><span style="color: #008000">// Return to first page</span></span>
<span class="line"><span style="color: #000000">                    })</span></span>
<span class="line"><span style="color: #000000">                    .</span><span style="color: #795E26">fontSize</span><span style="color: #000000">(</span><span style="color: #098658">30</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                    .</span><span style="color: #795E26">width</span><span style="color: #000000">(</span><span style="color: #098658">180</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                    .</span><span style="color: #795E26">height</span><span style="color: #000000">(</span><span style="color: #098658">50</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">                    .</span><span style="color: #795E26">margin</span><span style="color: #000000">(</span><span style="color: #001080">top</span><span style="color: #000000">: </span><span style="color: #098658">20</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">            }.</span><span style="color: #795E26">width</span><span style="color: #000000">(</span><span style="color: #098658">100</span><span style="color: #000000">.</span><span style="color: #001080">percent</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">        }.</span><span style="color: #795E26">height</span><span style="color: #000000">(</span><span style="color: #098658">100</span><span style="color: #000000">.</span><span style="color: #001080">percent</span><span style="color: #000000">)</span></span>
<span class="line"><span style="color: #000000">    }</span></span>
<span class="line"><span style="color: #000000">}</span></span></code></pre>
</li>
</ol>
<h2 id="running-on-device-or-emulator">Running on Device or Emulator</h2>
<h3 id="running-on-physical-device">Running on Physical Device</h3>
<ol>
<li>
<p>Connect an OpenHarmony device to your computer.</p>
</li>
<li>
<p>After successful connection, go to <strong>File > Project Structure > Project > Signing Configs</strong>, check <strong>Automatically generate signature</strong>, click <strong>Sign In</strong> to log in. After automatic signing completes, click <strong>OK</strong>.</p>
</li>
<li>
<p>Click the run button in the top-right toolbar to run. Expected output:</p>
</li>
</ol>
<h3 id="using-emulator">Using Emulator</h3>
<p>Cangjie applications support running on DevEco Studio's emulator.</p>
<ol>
<li>
<p>Create a Phone-type emulator device and select it from the device list.</p>
</li>
<li>
<p>By default, Cangjie compiles for <strong>arm64-v8a</strong>. For <strong>x86 emulators</strong> (Windows/x86_64 or MacOS/x86_64), add "<strong>x86_64</strong>" to <strong>abiFilters</strong> in <strong>build-profile.json5</strong>:</p>
<pre class="shiki light-plus" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #A31515">"buildOption"</span><span style="color: #000000">: {      </span><span style="color: #008000">// Build configuration</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">"cangjieOptions"</span><span style="color: #000000">: { </span><span style="color: #008000">// Cangjie-specific settings</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">"path"</span><span style="color: #000000">: </span><span style="color: #A31515">"./cjpm.toml"</span><span style="color: #000000">, </span><span style="color: #008000">// cjpm config path</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">"abiFilters"</span><span style="color: #000000">: [</span><span style="color: #A31515">"arm64-v8a"</span><span style="color: #000000">, </span><span style="color: #A31515">"x86_64"</span><span style="color: #000000">]   </span><span style="color: #008000">// Custom architectures</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">}</span></span></code></pre>
</li>
<li>
<p>Click run button to run. Output matches physical device results.</p>
</li>
</ol>
<h2 id="emulator-error-caused-by-incomplete-openharmony-os-sdk">Emulator Error Caused by Incomplete OpenHarmony OS SDK</h2>
<ol>
<li>
<p>When running the project on an <strong>emulator</strong>, you may encounter an error.<br>
This happens because the current <strong>OpenHarmony OS SDK</strong> is copied from the <strong>IDE installation directory</strong>, and <strong>is not a complete OpenHarmony OS SDK</strong>.</p>
</li>
<li>
<p>As a result, some required <strong>SysCaps (System Capabilities)</strong> are missing when the application is launched on the emulator.</p>
</li>
</ol>
<h3 id="solution">Solution</h3>
<ol>
<li>
<p>To resolve this issue, you need to manually add a <code>syscap.json</code> file. Please create a new <code>syscap.json</code> file in the following directory: Entry/src/main</p>
</li>
<li>
<p>The <code>syscap.json</code> file should be placed <strong>at the same level as the <code>cangjie</code> directory</strong>.</p>
</li>
</ol>
<h3 id="example-syscapjson">Example <code>syscap.json</code></h3>
<ol>
<li>
<p>Below is an example of the <code>syscap.json</code> file.<br>
You can <strong>add or remove SysCaps as needed</strong> depending on your project requirements.</p>
<pre class="shiki light-plus" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #0451A5">"devices"</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">"general"</span><span style="color: #000000">: [</span><span style="color: #A31515">"default"</span><span style="color: #000000">]</span></span>
<span class="line"><span style="color: #000000">},</span></span>
<span class="line"><span style="color: #0451A5">"production"</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">"removedSysCaps"</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">"SystemCapability.Multimedia.Media.AVTranscoder"</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">"SystemCapability.Telephony.CellularData"</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">"SystemCapability.Communication.Bluetooth.Core"</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">"SystemCapability.Telephony.CoreService"</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">"SystemCapability.Telephony.StateRegistry"</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">"SystemCapability.Telephony.SmsMms"</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">"SystemCapability.Telephony.CallManager"</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">"SystemCapability.DistributedHardware.DeviceManager"</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">"SystemCapability.Multimedia.Drm.Core"</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">"SystemCapability.Advertising.Ads"</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">"SystemCapability.BundleManager.AppDomainVerify"</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">"SystemCapability.Customization.EnterpriseDeviceManager"</span></span>
<span class="line"><span style="color: #000000">    ]</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"><span style="color: #000000">}</span></span></code></pre>
</li>
</ol>